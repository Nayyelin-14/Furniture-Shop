select	á€™á€­á€™á€­á€œá€­á€¯á€á€»á€„á€ºá€á€²á€· field á€á€½á€±á€€á€­á€¯á€žá€¬ á€‘á€¯á€á€ºá€šá€°á€–á€á€ºá€á€»á€„á€ºá€á€²á€·á€¡á€á€«á€žá€¯á€¶á€¸á€á€šá€º
include	á€¡á€²á€·á€’á€® relationship (á€†á€€á€ºá€…á€•á€º data) á€‘á€²á€€ field á€¡á€¬á€¸á€œá€¯á€¶á€¸ á€€á€­á€¯ á€–á€á€ºá€á€»á€„á€ºá€á€²á€·á€¡á€á€«á€žá€¯á€¶á€¸á€á€šá€º

set original image first to images folder
and then set optimized images with queue to optimized images folder 

1ï¸âƒ£	BullMQ queue "cache-invalidation" á€‘á€²á€™á€¾á€¬ job á€á€…á€ºá€á€¯á€œá€¬á€á€šá€º (pattern: "user:*")
2ï¸âƒ£	cacheWorker á€€ á€¡á€œá€¯á€•á€ºá€œá€¯á€•á€ºá€•á€¼á€®á€¸ invalidateCache("user:*") á€€á€­á€¯á€á€±á€«á€ºá€á€šá€º
3ï¸âƒ£	Redis scanStream() á€žá€¯á€¶á€¸á€•á€¼á€®á€¸ "user:*" á€”á€²á€·á€€á€­á€¯á€€á€ºá€á€²á€· keys á€á€½á€±á€€á€­á€¯ batch-wise á€›á€¾á€¬á€á€šá€º
4ï¸âƒ£	keys á€á€½á€±á€€á€­á€¯ pipeline.del(key) á€”á€²á€· á€á€…á€ºá€á€¯á€á€»á€„á€ºá€¸á€…á€®á€–á€»á€€á€ºá€–á€­á€¯á€· á€…á€®á€™á€¶á€á€šá€º
5ï¸âƒ£	keys á€¡á€€á€¯á€”á€ºá€›á€¾á€¬á€•á€¼á€®á€¸á€›á€„á€º pipeline.exec() á€”á€²á€· á€á€…á€ºá€á€«á€á€Šá€ºá€¸ Redis á€€á€­á€¯ delete command á€•á€±á€¸á€á€šá€º
6ï¸âƒ£	completed á€™á€¾á€¬ â€œJob completedâ€ log á€á€„á€ºá€á€šá€ºáŠ error á€á€€á€ºá€›á€„á€º failed log

ðŸ§  á€žá€á€­á€•á€¼á€¯á€›á€”á€º
scanStream() á€Ÿá€¬ while á€™á€œá€­á€¯á€¡á€•á€ºá€˜á€² async loop á€œá€¯á€•á€ºá€•á€±á€¸á€á€šá€ºá‹

Redis large dataset á€á€½á€±á€€á€­á€¯ memory-efficient á€•á€²á€›á€¾á€¬á€á€šá€ºá‹

pipeline á€€ Redis server á€€á€­á€¯ load á€œá€»á€±á€¬á€·á€…á€±á€á€šá€º (batch update/delete).

BullMQ Worker á€€ job á€á€…á€ºá€á€¯á€á€»á€„á€ºá€¸á€…á€®á€€á€­á€¯ thread pool á€œá€­á€¯á€žá€¯á€¶á€¸á€”á€­á€¯á€„á€ºá€á€²á€· system.

 In Prisma, when you're creating a related record (like Image[] under Product), Prisma needs to know how you want to handle the relation:

 create: create new related records

 connect: link to existing records

 connectOrCreate: either connect to existing or create if not found

 update: update existing related records


set: [] á€†á€­á€¯á€á€¬á€Ÿá€¬ junction table á€‘á€²á€™á€¾á€¬ á€›á€¾á€­á€”á€±á€á€²á€· old relationships á€á€½á€±á€€á€­á€¯ unlink á€œá€¯á€•á€ºá€á€šá€ºá‹

á€žá€€á€ºá€†á€­á€¯á€„á€ºá€›á€¬ Tag á€á€€á€šá€º delete á€™á€œá€¯á€•á€ºá€˜á€°á€¸áŠ á€á€»á€­á€á€ºá€‘á€¬á€¸á€™á€¾á€¯á€žá€¬á€–á€»á€€á€ºá€á€šá€ºá‹

á€’á€«á€€á€¼á€±á€¬á€„á€·á€º productTags (many-to-many) á€™á€¾á€¬á€žá€¯á€¶á€¸á€œá€­á€¯á€·á€›á€á€šá€ºá‹

ðŸ”´ set á€€á€­á€¯ images (one-to-many) á€™á€¾á€¬á€™á€žá€¯á€¶á€¸á€›á€á€²á€·á€¡á€€á€¼á€±á€¬á€„á€ºá€¸

productDataToCreate.images = {
  set: [],  âŒ INVALID in one-to-many
};
set á€€á€­á€¯ one-to-many á€á€½á€±á€™á€¾á€¬ á€™á€žá€¯á€¶á€¸á€”á€­á€¯á€„á€ºá€•á€«á€˜á€°á€¸á‹

á€˜á€¬á€œá€­á€¯á€·á€œá€²á€†á€­á€¯á€á€±á€¬á€·:

One-to-many á€á€½á€„á€º relationship á€žá€Šá€º foreign key á€á€…á€ºá€á€¯á€¡á€•á€±á€«á€ºá€á€½á€„á€º á€™á€°á€á€Šá€ºá€á€šá€ºá‹

á€™á€„á€ºá€¸á€Ÿá€¬ Product á€‘á€²á€€ images á€á€½á€±á€€á€­á€¯ á€–á€»á€€á€ºá€á€»á€„á€ºá€á€¬á€™á€­á€¯á€· set á€™á€Ÿá€¯á€á€ºá€˜á€² á€–á€»á€€á€ºá€›á€™á€šá€ºá‹

á€’á€«á€€á€¼á€±á€¬á€„á€·á€º deleteMany á€žá€¯á€¶á€¸á€á€šá€ºá‹

 // "prisma": {
  //   "seed": "ts-node prisma/seed.ts"
  // }

  Page	    lastCursor	    Fetched IDs	        Shown Items	      New Cursor
  1	        undefined	      [13,12,11,10,9,8]	  [13,12,11,10,9]	      9
  2	           9	            [8,7,6,5,4,3]	    [8,7,6,5,4]	        4
  3	           4	              [3,2,1]	          [3,2,1]	         null

  user has many products 
  prodcuts has many fav by many users

  many to many  == > need pivot table ,but  if there is no extra data , use explicit  many to many , no need to build pivot table